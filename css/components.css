/* ==========================================================
   CURA360 — COMPONENTS
   Self-contained component styles.
   Every component is designed for touch-first interaction.
   ========================================================== */

/* ── BUTTONS ───────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--sp-2);
  min-height: 44px;
  padding: var(--sp-3) var(--sp-5);
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  font-weight: var(--weight-600);
  text-decoration: none;
  white-space: nowrap;
  transition: background var(--dur-fast),
              transform var(--dur-fast),
              box-shadow var(--dur-fast),
              color var(--dur-fast);
  -webkit-tap-highlight-color: transparent;
  border: 1.5px solid transparent;
}
.btn:active { transform: scale(.97); }
.btn svg { width: 18px; height: 18px; flex-shrink: 0; }

/* Primary */
.btn--primary {
  background: linear-gradient(135deg, var(--clr-teal-500), var(--clr-teal-700));
  color: var(--clr-white);
  box-shadow: 0 4px 14px rgba(45,212,191,.3);
}
.btn--primary:hover {
  box-shadow: 0 6px 20px rgba(45,212,191,.4);
  transform: translateY(-1px);
}
.btn--primary:active { transform: scale(.97) translateY(0); }

/* Secondary (outline) */
.btn--secondary {
  background: transparent;
  color: var(--clr-teal-500);
  border-color: var(--clr-teal-500);
}
.btn--secondary:hover {
  background: rgba(45,212,191,.08);
}

/* Ghost */
.btn--ghost {
  background: transparent;
  color: var(--text-secondary);
  padding: var(--sp-3);
}
.btn--ghost:hover {
  background: var(--border-clr);
  color: var(--text-primary);
}

/* Danger */
.btn--danger {
  background: transparent;
  color: var(--clr-red-500);
  border-color: var(--clr-red-500);
}
.btn--danger:hover { background: rgba(239,68,68,.1); }

/* Full width */
.btn--full { width: 100%; }

/* Small */
.btn--sm {
  min-height: 36px;
  padding: var(--sp-2) var(--sp-4);
  font-size: var(--text-sm);
  border-radius: var(--radius-md);
}

/* Icon only */
.btn--icon {
  min-width: 44px;
  padding: var(--sp-2);
  border-radius: var(--radius-md);
}

/* Disabled state */
.btn:disabled, .btn[aria-disabled="true"] {
  opacity: .4;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

/* ── CARDS ─────────────────────────────────────────────── */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border-clr);
  border-radius: var(--radius-xl);
  overflow: hidden;
  transition: border-color var(--dur-fast),
              box-shadow var(--dur-fast);
}
.card:hover {
  border-color: var(--clr-navy-500);
  box-shadow: var(--shadow-md);
}
.card__header {
  padding: var(--sp-4) var(--sp-5);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-3);
  border-bottom: 1px solid var(--border-clr);
}
.card__title {
  font-size: var(--text-md);
  font-weight: var(--weight-600);
  color: var(--text-primary);
}
.card__body {
  padding: var(--sp-5);
}
.card__footer {
  padding: var(--sp-4) var(--sp-5);
  border-top: 1px solid var(--border-clr);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--sp-2);
}

/* Clickable card */
.card--link {
  text-decoration: none;
  display: block;
  cursor: pointer;
}
.card--link:hover {
  border-color: var(--clr-teal-600);
  box-shadow: var(--shadow-lg);
}

/* ── STAT CARDS (dashboard) ──────────────────────────── */
.stat-card {
  background: var(--bg-card);
  border: 1px solid var(--border-clr);
  border-radius: var(--radius-xl);
  padding: var(--sp-5);
  position: relative;
  overflow: hidden;
  transition: box-shadow var(--dur-fast);
}
.stat-card:hover { box-shadow: var(--shadow-md); }
.stat-card__accent {
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
}
.stat-card__accent--teal   { background: var(--clr-teal-500); }
.stat-card__accent--green  { background: var(--clr-emerald-500); }
.stat-card__accent--amber  { background: var(--clr-amber-500); }
.stat-card__accent--red    { background: var(--clr-red-500); }

.stat-card__icon {
  width: 44px; height: 44px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--sp-4);
}
.stat-card__icon svg { width: 22px; height: 22px; }
.stat-card__icon--teal   { background: rgba(45,212,191,.1); color: var(--clr-teal-500); }
.stat-card__icon--green  { background: rgba(34,197,94,.1);  color: var(--clr-emerald-500); }
.stat-card__icon--amber  { background: rgba(245,158,11,.1); color: var(--clr-amber-500); }
.stat-card__icon--red    { background: rgba(239,68,68,.1);  color: var(--clr-red-500); }

.stat-card__value {
  font-size: var(--text-3xl);
  font-weight: var(--weight-700);
  color: var(--text-primary);
  line-height: 1;
  margin-bottom: var(--sp-2);
}
.stat-card__label {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  font-weight: var(--weight-500);
}

/* ── FORM INPUTS ─────────────────────────────────────── */
.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--sp-2);
  margin-bottom: var(--sp-5);
}
.form-label {
  font-size: var(--text-sm);
  font-weight: var(--weight-600);
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: var(--sp-1);
}
.form-label .required {
  color: var(--clr-red-500);
  font-size: var(--text-xs);
}

.form-input {
  width: 100%;
  min-height: 48px;
  padding: 0 var(--sp-4);
  background: var(--bg-elevated);
  border: 1.5px solid var(--border-clr);
  border-radius: var(--radius-lg);
  color: var(--text-primary);
  font-size: var(--text-base);
  transition: border-color var(--dur-fast), box-shadow var(--dur-fast);
}
.form-input::placeholder { color: var(--text-muted); }
.form-input:focus {
  border-color: var(--clr-teal-500);
  box-shadow: 0 0 0 3px rgba(45,212,191,.15);
}
.form-input:disabled {
  opacity: .5;
  cursor: not-allowed;
}

textarea.form-input {
  min-height: 100px;
  padding: var(--sp-3) var(--sp-4);
  resize: vertical;
  line-height: var(--leading-relaxed);
}

select.form-input {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--sp-4) center;
  padding-right: var(--sp-10);
  cursor: pointer;
}
/* Dark select options */
@media (prefers-color-scheme: dark) {
  select.form-input option {
    background: var(--clr-navy-800);
    color: var(--clr-white);
  }
}

.form-error {
  font-size: var(--text-xs);
  color: var(--clr-red-500);
  display: none;
}
.form-group.has-error .form-input { border-color: var(--clr-red-500); }
.form-group.has-error .form-error  { display: block; }

/* Two-column form grid */
.form-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0;
}
@media (min-width: 600px) {
  .form-grid { grid-template-columns: 1fr 1fr; gap: 0 var(--sp-4); }
}

/* ── BADGES / TAGS ───────────────────────────────────── */
.badge {
  display: inline-flex;
  align-items: center;
  gap: var(--sp-1);
  padding: 4px var(--sp-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: var(--weight-600);
  text-transform: uppercase;
  letter-spacing: .5px;
  white-space: nowrap;
}
.badge--active   { background: rgba(34,197,94,.12);  color: var(--clr-emerald-500); }
.badge--pending  { background: rgba(245,158,11,.12); color: var(--clr-amber-500); }
.badge--critical { background: rgba(239,68,68,.12);  color: var(--clr-red-500); }
.badge--closed   { background: var(--border-clr);    color: var(--text-secondary); }
.badge--professional { background: rgba(45,212,191,.12); color: var(--clr-teal-500); }
.badge--patient  { background: rgba(139,92,246,.12); color: #a78bfa; }

/* Dot indicator */
.badge__dot {
  width: 6px; height: 6px;
  border-radius: 50%;
  background: currentColor;
}

/* ── MODAL ───────────────────────────────────────────── */
.modal-overlay {
  position: fixed;
  inset: 0;
  z-index: var(--z-modal);
  background: rgba(15,25,35,.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  display: flex;
  align-items: flex-end; /* mobile: slide from bottom */
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--dur-base) var(--ease-out);
}
.modal-overlay.open {
  opacity: 1;
  pointer-events: auto;
}

.modal {
  background: var(--bg-card);
  border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
  width: 100%;
  max-width: 560px;
  max-height: 85dvh;
  overflow-y: auto;
  transform: translateY(40px);
  transition: transform var(--dur-base) var(--ease-out);
  /* drag handle */
  padding-top: var(--sp-3);
}
.modal-overlay.open .modal {
  transform: translateY(0);
}

.modal__handle {
  width: 40px; height: 4px;
  background: var(--border-clr);
  border-radius: 2px;
  margin: 0 auto var(--sp-4);
}

.modal__header {
  padding: 0 var(--sp-5);
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--sp-4);
}
.modal__title {
  font-size: var(--text-lg);
  font-weight: var(--weight-700);
}
.modal__close {
  width: 36px; height: 36px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  background: transparent;
  transition: background var(--dur-fast), color var(--dur-fast);
}
.modal__close:hover {
  background: var(--border-clr);
  color: var(--text-primary);
}
.modal__close svg { width: 20px; height: 20px; }

.modal__body { padding: 0 var(--sp-5) var(--sp-6); }

/* Desktop: centered modal */
@media (min-width: 600px) {
  .modal-overlay {
    align-items: center;
  }
  .modal {
    border-radius: var(--radius-2xl);
    transform: scale(.95);
    max-height: 80dvh;
  }
  .modal-overlay.open .modal {
    transform: scale(1);
  }
  .modal__handle { display: none; }
}

/* ── LIST ITEMS (patients / wounds) ──────────────────── */
.list-item {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
  padding: var(--sp-4);
  background: var(--bg-card);
  border: 1px solid var(--border-clr);
  border-radius: var(--radius-xl);
  text-decoration: none;
  color: var(--text-primary);
  transition: border-color var(--dur-fast), box-shadow var(--dur-fast);
  -webkit-tap-highlight-color: transparent;
}
.list-item:hover {
  border-color: var(--clr-teal-600);
  box-shadow: var(--shadow-sm);
}
.list-item + .list-item {
  margin-top: var(--sp-2);
}
.list-item__avatar {
  width: 44px; height: 44px;
  border-radius: var(--radius-lg);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--weight-600);
  font-size: var(--text-md);
}
.list-item__avatar--patient {
  background: linear-gradient(135deg, var(--clr-teal-600), var(--clr-navy-500));
  color: var(--clr-white);
}
.list-item__avatar--wound {
  background: linear-gradient(135deg, var(--clr-amber-500), #e11d48);
  color: var(--clr-white);
}
.list-item__content { flex: 1; min-width: 0; }
.list-item__name {
  font-size: var(--text-base);
  font-weight: var(--weight-600);
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.list-item__meta {
  font-size: var(--text-xs);
  color: var(--text-secondary);
  margin-top: 2px;
}
.list-item__chevron {
  width: 20px; height: 20px;
  color: var(--text-muted);
  flex-shrink: 0;
}

/* ── EMPTY STATE ─────────────────────────────────────── */
.empty-state {
  text-align: center;
  padding: var(--sp-12) var(--sp-4);
}
.empty-state__icon {
  width: 64px; height: 64px;
  border-radius: 50%;
  background: var(--border-clr);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--sp-4);
  color: var(--text-muted);
}
.empty-state__icon svg { width: 28px; height: 28px; }
.empty-state__title {
  font-size: var(--text-lg);
  font-weight: var(--weight-600);
  color: var(--text-primary);
  margin-bottom: var(--sp-2);
}
.empty-state__text {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  max-width: 280px;
  margin: 0 auto var(--sp-5);
}

/* ── TABS ────────────────────────────────────────────── */
.tabs {
  display: flex;
  gap: var(--sp-1);
  background: var(--border-clr);
  border-radius: var(--radius-lg);
  padding: 3px;
  margin-bottom: var(--sp-5);
}
.tab {
  flex: 1;
  padding: var(--sp-2) var(--sp-3);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--weight-500);
  color: var(--text-secondary);
  text-align: center;
  background: transparent;
  transition: background var(--dur-fast), color var(--dur-fast), box-shadow var(--dur-fast);
  min-height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.tab.active {
  background: var(--bg-card);
  color: var(--text-primary);
  box-shadow: var(--shadow-sm);
  font-weight: var(--weight-600);
}

/* ── TIMELINE (treatment history) ────────────────────── */
.timeline {
  position: relative;
  padding-left: var(--sp-6);
}
.timeline::before {
  content: '';
  position: absolute;
  left: 9px;
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: var(--border-clr);
}
.timeline-item {
  position: relative;
  margin-bottom: var(--sp-4);
}
.timeline-item::before {
  content: '';
  position: absolute;
  left: calc(-1 * var(--sp-6) + 5px);
  top: 8px;
  width: 10px; height: 10px;
  border-radius: 50%;
  background: var(--clr-teal-500);
  border: 2px solid var(--bg-page);
  box-shadow: 0 0 0 2px var(--clr-teal-500);
}
.timeline-item__card {
  background: var(--bg-card);
  border: 1px solid var(--border-clr);
  border-radius: var(--radius-lg);
  padding: var(--sp-4);
}
.timeline-item__date {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-weight: var(--weight-500);
  margin-bottom: var(--sp-2);
  text-transform: uppercase;
  letter-spacing: .5px;
}
.timeline-item__technique {
  font-size: var(--text-base);
  font-weight: var(--weight-600);
  color: var(--text-primary);
  margin-bottom: var(--sp-2);
}
.timeline-item__detail {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
}

/* ── LOGIN PAGE ──────────────────────────────────────── */
.login-page {
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--sp-6);
  background: var(--bg-page);
  position: relative;
  overflow: hidden;
}

/* Ambient background orbs */
.login-page::before, .login-page::after {
  content: '';
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: .15;
  pointer-events: none;
}
.login-page::before {
  width: 400px; height: 400px;
  background: var(--clr-teal-500);
  top: -100px; left: -100px;
}
.login-page::after {
  width: 300px; height: 300px;
  background: var(--clr-teal-700);
  bottom: -80px; right: -80px;
}

.login-card {
  background: var(--bg-card);
  border: 1px solid var(--border-clr);
  border-radius: var(--radius-2xl);
  padding: var(--sp-8) var(--sp-6);
  width: 100%;
  max-width: 400px;
  position: relative;
  z-index: 1;
  box-shadow: var(--shadow-xl);
}
.login-card__logo {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
  margin-bottom: var(--sp-8);
}
.login-card__logo-mark {
  width: 48px; height: 48px;
  background: linear-gradient(135deg, var(--clr-teal-500), var(--clr-teal-700));
  border-radius: var(--radius-xl);
  display: flex;
  align-items: center;
  justify-content: center;
}
.login-card__logo-mark svg { width: 26px; height: 26px; }
.login-card__logo-text {
  font-size: var(--text-2xl);
  font-weight: var(--weight-700);
  color: var(--text-primary);
}
.login-card__logo-text span { color: var(--clr-teal-500); }
.login-card__subtitle {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin-top: 2px;
}

/* Role toggle on login */
.role-toggle {
  display: flex;
  gap: var(--sp-2);
  margin-bottom: var(--sp-5);
}
.role-toggle__btn {
  flex: 1;
  padding: var(--sp-3);
  border-radius: var(--radius-lg);
  border: 1.5px solid var(--border-clr);
  background: transparent;
  color: var(--text-secondary);
  font-size: var(--text-sm);
  font-weight: var(--weight-500);
  text-align: center;
  min-height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--sp-2);
  transition: border-color var(--dur-fast), background var(--dur-fast), color var(--dur-fast);
}
.role-toggle__btn svg { width: 18px; height: 18px; }
.role-toggle__btn.active {
  border-color: var(--clr-teal-500);
  background: rgba(45,212,191,.08);
  color: var(--clr-teal-500);
}

/* ── DETAIL ROWS (wound / patient info display) ──────── */
.detail-row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: var(--sp-3) 0;
  border-bottom: 1px solid var(--border-clr);
}
.detail-row:last-child { border-bottom: none; }
.detail-row__label {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  font-weight: var(--weight-500);
}
.detail-row__value {
  font-size: var(--text-sm);
  color: var(--text-primary);
  font-weight: var(--weight- 600);
  text-align: right;
  max-width: 60%;
}

/* ── GRID layouts for stat cards ─────────────────────── */
.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-3);
  margin-bottom: var(--sp-5);
}
@media (min-width: 600px) {
  .stats-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 900px) {
  .stats-grid { grid-template-columns: repeat(4, 1fr); }
}
